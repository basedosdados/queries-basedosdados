version: 2

models:
  - name: quilombolas_domicilios_moradores_municipio
    description: Insert `quilombolas_domicilios_moradores_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - id_municipio
              - sigla_uf
              - localizacao_domicilio
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: sigla_uf
        description: Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla                
      - name: domicilios
        description: Domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios
        description: Moradores em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_quilombolas_domicilios
        description: Moradores quilombolas em domicílios particulares permanentes
            ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradres_domicilios
        description: Média de moradores em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: media_moradores_quilombolas_domicilios
        description: Média de moradores quilombolas em domicílios particulares permanentes
            ocupados com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: localizacao_domicilio
        description: Localização do Domicílio
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: populacao_residente_territorios_quilombolas
    description: Insert `populacao_residente_territorios_quilombolas` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: territorio_quilombola
        description: Território Quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05                
      - name: pessoas_residentes_territorios_quilombolas
        description: Pessoas residentes em territórios quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: pessoas_quilombolas_residentes_territorios_quilombolas
        description: Pessoas quilombolas residentes em territórios quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_pelo_menos_um_territorios_quilombolas
    description: Insert `domicilios_pelo_menos_um_territorios_quilombolas` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: territorio_quilombola
        description: Território Quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_territorios_quilombolas
        description: Domicílios particulares permanentes ocupados localizados em territórios
            quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios_territorios_quilombolas
        description: Moradores em domicílios particulares permanentes ocupados localizados
            em territórios quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_quilombolas_domicilios_territorios_quilombolas
        description: Moradores quilombolas em domicílios particulares permanentes
            ocupados localizados em territórios quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: quilombolas_populacao_residente_municipio
    description: Insert `quilombolas_populacao_residente_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: territorios_quilombolas
        description: População residente, total e quilombola, Em territórios quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: fora_territorios_quilombolas
        description: População residente, total e quilombola, fora de territórios
            quilombolas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_moradores_territorios_quilombolas
    description: Insert `domicilios_moradores_territorios_quilombolas` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: territorio_quilombola
        description: Território Quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_pelo_menos_um_territorios_quilombolas
        description: Domicílios particulares permanentes ocupados com pelo menos um
            morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios_pelo_menos_um_territorios_quilombolas
        description: Moradores em domicílios particulares permanentes ocupados com
            pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_quilombolas_domicilios_particulares_pelo_menos_um_territorios_quilombolas
        description: Moradores quilombolas em domicílios particulares permanentes
            ocupados com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_domicilios_pelo_menos_um_territorios_quilombolas
        description: 'Média de moradores em domicílios particulares permanentes ocupados
            com pelo menos um morador quilombola '
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_quilombolas_domicilios_pelo_menos_um_territorios_quilombolas
        description: Média de moradores quilombolas em domicílios particulares permanentes
            ocupados com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_pelo_menos_um_moradores_terras_indigenas
    description: Insert `domicilios_pelo_menos_um_moradores_terras_indigenas` table
        description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: terra_indigena
        description: Terra Indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_terras_indigenas_pelo_menos_um
        description: Domicílios particulares permanentes ocupados com pelo menos um
            morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios_terras_indigenas_pelo_menos_um
        description: Moradores em domicílios particulares permanentes ocupados com
            pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_indigenas_domicilios_terras_indigenas_pelo_menos_um
        description: Moradores indígenas em domicílios particulares permanentes ocupados
            com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_indigenas_domicilios_terras_indigenas_pelo_menos_um
        description: Média de moradores indígenas em domicílios particulares permanentes
            ocupados com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: populacao_residente_municipio
    description: Insert `populacao_residente_municipio` table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: forma_declaracao_idade
        description: Forma de declaração da idade
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: sexo
        description: Sexo
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: idade
        description: Idade
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: populacao_residente
        description: População residente
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: area_territorial_densidade_demografica_municipio
    description: Insert `area_territorial_densidade_demografica_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município 7 dígitos IBGE
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: populacao_residente
        description: População residente
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: area_unidade_territorial
        description: Área da unidade territorial
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: densidade_demografica
        description: Densidade demográfica
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_moradores_municipio
    description: Insert `domicilios_moradores_municipio` table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: domicilios
        description: Domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios
        description: Moradores em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: indice_envelhecimento_municipio
    description: Insert `indice_envelhecimento_municipio` table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: sigla_uf
        description: Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla                
      - name: indice_envelhecimento
        description: Índice de envelhecimento
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: idade_mediana
        description: Idade mediana
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: razao_sexo
        description: Razão de sexo
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_recenseados_especie_municipio
    description: Insert `domicilios_recenseados_especie_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 Dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: especie
        description: Espécie
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_recenseados
        description: Domicílios Recenseados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: indigenas_domicilios_moradores_municipio
    description: Insert `indigenas_domicilios_moradores_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: localizacao_domicilio
        description: Localização Domicílio
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios
        description: Domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios
        description: Moradores em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_indigenas_domicilios
        description: Moradores indígenas em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_domicilios
        description: Média de moradores em domicílios particulares permanentes ocupados
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_indigenas_domicilios
        description: Média de moradores indígenas em domicílios particulares permanentes
            ocupados com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: quilombolas_domicilios_pelo_menos_um_morador_municipio
    description: Insert `quilombolas_domicilios_pelo_menos_um_morador_municipio` table
        description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__municipio')
                field: id
      - name: sigla_uf
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla                
      - name: domicilios_pelo menos_um
        description: Domicílios particulares permanentes ocupados com pelo menos um
            morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_domicilios_pelo_menos_um
        description: Moradores em domicílios particulares permanentes ocupados com
            pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: moradores_quilombolas_domicilios_pelo_menos_um
        description: Moradores quilombolas em domicílios particulares permanentes
            ocupados com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_domicilios_particulares_pelo_menos_um
        description: Média de moradores em domicílios particulares permanentes ocupados
            com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: media_moradores_quilombolas_domicilios_particulares_pelo_menos_um
        description: Média de moradores quilombolas em domicílios particulares permanentes
            ocupados com pelo menos um morador quilombola
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: localizacao_domicilio
        description: Localização do Domicílio
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: populacao_residente_terras_indigenas
    description: Insert `populacao_residente_terras_indigenas` table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: terra_indigena
        description: Terra Indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla
      - name: pessoas_residentes_terras_indigenas
        description: Pessoas residentes em terras indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: pessoas_indigenas_residentes_terras_indigenas
        description: Pessoas indígenas residentes em terras indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: quesito_declaracao_indigena
        description: Quesito de declaração indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: domicilios_moradores_terras_indigenas
    description: Insert `domicilios_moradores_terras_indigenas` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla
      - name: terra_indigena
        description: Terra Indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_terras_indigenas
        description: Domicílios particulares permanentes ocupados localizados em terras
            indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: moradores_domicilios_terras_indigenas
        description: Moradores em domicílios particulares permanentes ocupados localizados
            em terras indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: moradores_indigenas_domicilios_terras_indigenas
        description: Moradores indígenas em domicílios particulares permanentes ocupados
            localizados em terras indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: media_moradores_indigenas_domicilios_terras_indigenas
        description: Média de moradores indígenas em domicílios particulares permanentes
            ocupados com pelo menos um morador indígena localizados em terras indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
  - name: indigenas_domicilios_pelo_menos_um_morador_municipio
    description: Insert `indigenas_domicilios_pelo_menos_um_morador_municipio` table
        description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('basedosdados__br_bd_diretorios_brasil,municipio')
                field: id
      - name: localizacao_domicilio
        description: Localização Domicílio
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: domicilios_pelo_menos_um
        description: Domicílios particulares permanentes ocupados com pelo menos um
            morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: moradores_domicilios_pelo_menos_um
        description: Moradores em domicílios particulares permanentes ocupados com
            pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: moradores_indigenas_domicilios_pelo_menos_um
        description: Moradores indígenas em domicílios particulares permanentes ocupados
            com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: media_moradores_domicilios_pelo_menos_um
        description: Média de moradores em domicílios particulares permanentes ocupados
            com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
      - name: media_moradores_indigenas_domicilios_pelo_menos_um
        description: Média de moradores indígenas em domicílios particulares permanentes
            ocupados com pelo menos um morador indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to:
                field:
  - name: indigenas_populacao_residente_municipio
    description: Insert `indigenas_populacao_residente_municipio` table description
        here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: id_municipio
        description: ID Município 7 dígitos IBGE
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('basedosdados__br_bd_diretorios_brasil,municipio')
                field: id
      - name: quesito_declaracao_indigena
        description: Quesito de declaração Indígena
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: localizacao_domicilio
        description: Localização Domicílio
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: pessoas_indigenas
        description: Pessoas indígenas
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: populacao_residente
        description: População Residente
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
  - name: populacao_grupos_idade_uf
    description: Insert `populacao_grupos_idade_uf` table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
              - insert unique keys here
    columns:
      - name: ano
        description: Ano
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
          - relationships:
                to: ref('br_bd_diretorios_brasil__uf')
                field: sigla
      - name: grupo_idade
        description: Grupo de idade
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
      - name: populacao
        description: População
        tests:
          - dbt_utils.not_null_proportion:
                at_least: 0.05
